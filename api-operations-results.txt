ğŸš€ Starting API operations test...

ğŸ“… 4/25/2025, 5:16:24 PM

=== Environment ===
API URL: https://omnimart-api.onrender.com
--------------------------------------------------

=== TESTING CATEGORIES API ===
ğŸ“‹ Fetching all categories...
âœ… Fetched 4 categories.
Sample: [
  {
    "_id": "6808f7dcc77be29937a03db3",
    "name": "Ù…Ù„Ø§Ø¨Ø³ Ù†Ø³Ø§Ø¦ÙŠØ©",
    "description": "Ø£Ø­Ø¯Ø« ØµÙŠØ­Ø§Øª Ø§Ù„Ù…ÙˆØ¶Ø© Ø§Ù„Ù†Ø³Ø§Ø¦ÙŠØ©",
    "slug": "womens-clothing",
    "parentId": null,
    "isActive": true,
    "createdAt": "2025-04-23T14:23:24.823Z",
    "updatedAt": "2025-04-23T14:23:24.823Z",
    "__v": 0,
    "id": "6808f7dcc77be29937a03db3"
  },
  {
    "_id": "6808f7dcc77be29937a03db2",
    "name": "Ù…Ù„Ø§Ø¨Ø³ Ø±Ø¬Ø§Ù„ÙŠØ©",
    "description": "ÙƒÙ„ Ù…Ø§ ÙŠØªØ¹Ù„Ù‚ Ø¨Ø§Ù„Ø£Ø²ÙŠØ§Ø¡ Ø§Ù„Ø±Ø¬Ø§Ù„ÙŠØ©",
    "slug": "mens-clothing",
    "parentId": null,
    "isActive": true,
    "createdAt": "2025-04-23T14:23:24.823Z",
    "updatedAt": "2025-04-23T14:23:24.823Z",
    "__v": 0,
    "id": "6808f7dcc77be29937a03db2"
  }
]

ğŸ“‹ Fetching category by ID (6808f7dcc77be29937a03db3)...
âœ… Category details: {
  "_id": "6808f7dcc77be29937a03db3",
  "name": "Ù…Ù„Ø§Ø¨Ø³ Ù†Ø³Ø§Ø¦ÙŠØ©",
  "description": "Ø£Ø­Ø¯Ø« ØµÙŠØ­Ø§Øª Ø§Ù„Ù…ÙˆØ¶Ø© Ø§Ù„Ù†Ø³Ø§Ø¦ÙŠØ©",
  "slug": "womens-clothing",
  "parentId": null,
  "isActive": true,
  "createdAt": "2025-04-23T14:23:24.823Z",
  "updatedAt": "2025-04-23T14:23:24.823Z",
  "__v": 0,
  "id": "6808f7dcc77be29937a03db3"
}

ğŸ“‹ Creating a new category...
âœ… Created category: {
  "name": "Test Category 1745597785975",
  "description": "Created by API test script",
  "_id": "680bb55aa1f418bdb2013c15",
  "__v": 0,
  "id": "680bb55aa1f418bdb2013c15"
}

ğŸ“‹ Updating category 680bb55aa1f418bdb2013c15...
âœ… Updated category: {
  "_id": "680bb55aa1f418bdb2013c15",
  "name": "Test Category 1745597785975",
  "description": "Updated by API test script at 4/25/2025, 5:16:26 PM",
  "__v": 0,
  "id": "680bb55aa1f418bdb2013c15"
}

ğŸ“‹ Deleting category 680bb55aa1f418bdb2013c15...
âœ… Category deleted successfully.

--------------------------------------------------

=== TESTING PRODUCTS API ===
ğŸ“‹ Fetching products with various options...

ğŸ“‹ All products:
âœ… Fetched 4 products.
Sample products: [
  {
    "_id": "6808f7ddc77be29937a03dbd",
    "name": "ÙØ³ØªØ§Ù† Ø£Ù†ÙŠÙ‚",
    "description": "ÙØ³ØªØ§Ù† Ù†Ø³Ø§Ø¦ÙŠ Ø£Ù†ÙŠÙ‚ Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„Ù…Ù†Ø§Ø³Ø¨Ø§Øª",
    "price": 4500,
    "oldPrice": 5000,
    "categoryId": "6808f7dcc77be29937a03db3",
    "images": [
      "https://via.placeholder.com/400x500"
    ],
    "features": [
      "ØªØµÙ…ÙŠÙ… Ø¹ØµØ±ÙŠ",
      "Ù‚Ù…Ø§Ø´ Ù…Ø±ÙŠØ­"
    ],
    "material": "Ø­Ø±ÙŠØ± ÙˆÙ‚Ø·Ù†",
    "care": "ØªÙ†Ø¸ÙŠÙ Ø¬Ø§Ù ÙÙ‚Ø·",
    "sizes": [
      "S",
      "M",
      "L"
    ],
    "colors": [
      {
        "name": "Ø£Ø­Ù…Ø±",
        "value": "#FF0000"
      },
      {
        "name": "Ø£Ø³ÙˆØ¯",
        "value": "#000000"
      }
    ],
    "isNewProduct": false,
    "rating": 5,
    "reviews": 8,
    "discountId": "6808f7dcc77be29937a03db8",
    "createdAt": "2025-04-23T14:23:25.022Z",
    "updatedAt": "2025-04-25T14:25:09.254Z",
    "__v": 0,
    "stock": 0,
    "id": "6808f7ddc77be29937a03dbd"
  },
  {
    "_id": "6808f7ddc77be29937a03dbe",
    "name": "Ø­Ù‚ÙŠØ¨Ø© ÙŠØ¯ Ù†Ø³Ø§Ø¦ÙŠØ©",
    "description": "Ø­Ù‚ÙŠØ¨Ø© ÙŠØ¯ Ø¹ØµØ±ÙŠØ© ÙˆØ£Ù†ÙŠÙ‚Ø©",
    "price": 3500,
    "categoryId": "6808f7dcc77be29937a03db4",
    "images": [
      "https://via.placeholder.com/400x500"
    ],
    "features": [
      "Ø³Ø¹Ø© ÙƒØ¨ÙŠØ±Ø©",
      "Ù…ØªÙŠÙ†Ø© ÙˆØ¹Ù…Ù„ÙŠØ©"
    ],
    "material": "Ø¬Ù„Ø¯ ØµÙ†Ø§Ø¹ÙŠ",
    "care": "ØªÙ†Ø¸ÙŠÙ Ø¨Ù‚Ø·Ø¹Ø© Ù‚Ù…Ø§Ø´ Ù…Ø¨Ù„Ù„Ø©",
    "sizes": [
      "ÙˆØ§Ø­Ø¯"
    ],
    "colors": [
      {
        "name": "Ø¨Ù†ÙŠ",
        "value": "#8B4513"
      }
    ],
    "isNewProduct": true,
    "rating": 4,
    "reviews": 5,
    "discountId": "6808f7dcc77be29937a03db9",
    "createdAt": "2025-04-23T14:23:25.022Z",
    "updatedAt": "2025-04-25T14:58:15.507Z",
    "__v": 0,
    "stock": 0,
    "id": "6808f7ddc77be29937a03dbe"
  }
]

ğŸ“‹ Products by category:
âœ… Fetched 4 products in category 6808f7dcc77be29937a03db3.
Sample products by category: [
  {
    "_id": "6808f7ddc77be29937a03dbd",
    "name": "ÙØ³ØªØ§Ù† Ø£Ù†ÙŠÙ‚",
    "description": "ÙØ³ØªØ§Ù† Ù†Ø³Ø§Ø¦ÙŠ Ø£Ù†ÙŠÙ‚ Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„Ù…Ù†Ø§Ø³Ø¨Ø§Øª",
    "price": 4500,
    "oldPrice": 5000,
    "categoryId": "6808f7dcc77be29937a03db3",
    "images": [
      "https://via.placeholder.com/400x500"
    ],
    "features": [
      "ØªØµÙ…ÙŠÙ… Ø¹ØµØ±ÙŠ",
      "Ù‚Ù…Ø§Ø´ Ù…Ø±ÙŠØ­"
    ],
    "material": "Ø­Ø±ÙŠØ± ÙˆÙ‚Ø·Ù†",
    "care": "ØªÙ†Ø¸ÙŠÙ Ø¬Ø§Ù ÙÙ‚Ø·",
    "sizes": [
      "S",
      "M",
      "L"
    ],
    "colors": [
      {
        "name": "Ø£Ø­Ù…Ø±",
        "value": "#FF0000"
      },
      {
        "name": "Ø£Ø³ÙˆØ¯",
        "value": "#000000"
      }
    ],
    "isNewProduct": false,
    "rating": 5,
    "reviews": 8,
    "discountId": "6808f7dcc77be29937a03db8",
    "createdAt": "2025-04-23T14:23:25.022Z",
    "updatedAt": "2025-04-25T14:25:09.254Z",
    "__v": 0,
    "stock": 0,
    "id": "6808f7ddc77be29937a03dbd"
  }
]

ğŸ“‹ New products:
âœ… Fetched 4 new products.
Sample new products: [
  {
    "_id": "6808f7ddc77be29937a03dbd",
    "name": "ÙØ³ØªØ§Ù† Ø£Ù†ÙŠÙ‚",
    "description": "ÙØ³ØªØ§Ù† Ù†Ø³Ø§Ø¦ÙŠ Ø£Ù†ÙŠÙ‚ Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„Ù…Ù†Ø§Ø³Ø¨Ø§Øª",
    "price": 4500,
    "oldPrice": 5000,
    "categoryId": "6808f7dcc77be29937a03db3",
    "images": [
      "https://via.placeholder.com/400x500"
    ],
    "features": [
      "ØªØµÙ…ÙŠÙ… Ø¹ØµØ±ÙŠ",
      "Ù‚Ù…Ø§Ø´ Ù…Ø±ÙŠØ­"
    ],
    "material": "Ø­Ø±ÙŠØ± ÙˆÙ‚Ø·Ù†",
    "care": "ØªÙ†Ø¸ÙŠÙ Ø¬Ø§Ù ÙÙ‚Ø·",
    "sizes": [
      "S",
      "M",
      "L"
    ],
    "colors": [
      {
        "name": "Ø£Ø­Ù…Ø±",
        "value": "#FF0000"
      },
      {
        "name": "Ø£Ø³ÙˆØ¯",
        "value": "#000000"
      }
    ],
    "isNewProduct": false,
    "rating": 5,
    "reviews": 8,
    "discountId": "6808f7dcc77be29937a03db8",
    "createdAt": "2025-04-23T14:23:25.022Z",
    "updatedAt": "2025-04-25T14:25:09.254Z",
    "__v": 0,
    "stock": 0,
    "id": "6808f7ddc77be29937a03dbd"
  }
]

ğŸ“‹ Products with discounts:
âœ… Fetched 4 discounted products.
Sample discounted products: [
  {
    "_id": "6808f7ddc77be29937a03dbd",
    "name": "ÙØ³ØªØ§Ù† Ø£Ù†ÙŠÙ‚",
    "description": "ÙØ³ØªØ§Ù† Ù†Ø³Ø§Ø¦ÙŠ Ø£Ù†ÙŠÙ‚ Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„Ù…Ù†Ø§Ø³Ø¨Ø§Øª",
    "price": 4500,
    "oldPrice": 5000,
    "categoryId": "6808f7dcc77be29937a03db3",
    "images": [
      "https://via.placeholder.com/400x500"
    ],
    "features": [
      "ØªØµÙ…ÙŠÙ… Ø¹ØµØ±ÙŠ",
      "Ù‚Ù…Ø§Ø´ Ù…Ø±ÙŠØ­"
    ],
    "material": "Ø­Ø±ÙŠØ± ÙˆÙ‚Ø·Ù†",
    "care": "ØªÙ†Ø¸ÙŠÙ Ø¬Ø§Ù ÙÙ‚Ø·",
    "sizes": [
      "S",
      "M",
      "L"
    ],
    "colors": [
      {
        "name": "Ø£Ø­Ù…Ø±",
        "value": "#FF0000"
      },
      {
        "name": "Ø£Ø³ÙˆØ¯",
        "value": "#000000"
      }
    ],
    "isNewProduct": false,
    "rating": 5,
    "reviews": 8,
    "discountId": "6808f7dcc77be29937a03db8",
    "createdAt": "2025-04-23T14:23:25.022Z",
    "updatedAt": "2025-04-25T14:25:09.254Z",
    "__v": 0,
    "stock": 0,
    "id": "6808f7ddc77be29937a03dbd"
  }
]

ğŸ“‹ Creating a new product...
âŒ Error creating product: {"message":"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¯Ø®Ù„Ø©"}
Backend response: {
  "message": "Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¯Ø®Ù„Ø©"
}

--------------------------------------------------

=== TESTING DISCOUNTS API ===
ğŸ“‹ Fetching all discounts...
âœ… Fetched 3 discounts.
Sample: [
  {
    "_id": "68068a008d4bc68932f66dec",
    "name": "Ø®ØµÙ… Ø§ÙˆÙ„ Ø²ÙŠØ§Ø±Ø© Ù„Ù„Ù…ÙˆÙ‚Ø¹",
    "percentage": 20,
    "validFrom": "2025-04-21T00:00:00.000Z",
    "validTo": "2025-05-21T00:00:00.000Z",
    "type": "sale",
    "applicableProducts": [],
    "applicableCategories": [],
    "isActive": true,
    "createdAt": "2025-04-21T18:10:08.315Z",
    "updatedAt": "2025-04-22T01:59:04.326Z",
    "__v": 0,
    "id": "68068a008d4bc68932f66dec"
  },
  {
    "_id": "6808f7dcc77be29937a03db8",
    "name": "Ø®ØµÙ… Ø§Ù„ØµÙŠÙ",
    "percentage": 15,
    "validFrom": "2025-04-23T14:23:24.921Z",
    "validTo": "2025-05-23T14:23:24.921Z",
    "type": "seasonal",
    "applicableProducts": [],
    "applicableCategories": [],
    "isActive": true,
    "createdAt": "2025-04-23T14:23:24.923Z",
    "updatedAt": "2025-04-23T14:23:24.923Z",
    "__v": 0,
    "id": "6808f7dcc77be29937a03db8"
  }
]

ğŸ“‹ Creating a new discount...
âŒ Error creating discount: {"message":"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¯Ø®Ù„Ø©"}
Backend response: {
  "message": "Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¯Ø®Ù„Ø©"
}

--------------------------------------------------

=== TESTING ORDERS API ===
ğŸ“‹ Fetching all orders...
âœ… Fetched 0 orders.

ğŸ“‹ Fetching pending orders...
âœ… Fetched 0 pending orders.

ğŸ“‹ Creating a new order...
âœ… Created order: {
  "customerName": "Test Customer",
  "customerPhone": "0123456789",
  "customerAddress": "Test Address, Test City",
  "wilaya": "Test Wilaya",
  "products": [
    {
      "productId": "6808f7ddc77be29937a03dbd",
      "productName": "ÙØ³ØªØ§Ù† Ø£Ù†ÙŠÙ‚",
      "price": 4500,
      "quantity": 1,
      "size": "S",
      "color": "Ø£Ø­Ù…Ø±",
      "_id": "680bb55ea1f418bdb2013c23"
    }
  ],
  "totalAmount": 4500,
  "shippingCost": 500,
  "status": "pending",
  "notes": "Test order created by API test script",
  "_id": "680bb55ea1f418bdb2013c22",
  "createdAt": "2025-04-25T16:16:30.857Z",
  "updatedAt": "2025-04-25T16:16:30.857Z",
  "__v": 0,
  "id": "680bb55ea1f418bdb2013c22"
}

ğŸ“‹ Fetching order by ID (680bb55ea1f418bdb2013c22)...
âœ… Order details: null

ğŸ“‹ Updating order status to 'processing'...
âœ… Updated order status: {
  "_id": "680bb55ea1f418bdb2013c22",
  "customerName": "Test Customer",
  "customerPhone": "0123456789",
  "customerAddress": "Test Address, Test City",
  "wilaya": "Test Wilaya",
  "products": [
    {
      "productId": "6808f7ddc77be29937a03dbd",
      "productName": "ÙØ³ØªØ§Ù† Ø£Ù†ÙŠÙ‚",
      "price": 4500,
      "quantity": 1,
      "size": "S",
      "color": "Ø£Ø­Ù…Ø±",
      "_id": "680bb55ea1f418bdb2013c23"
    }
  ],
  "totalAmount": 4500,
  "shippingCost": 500,
  "status": "processing",
  "notes": "Test order created by API test script",
  "createdAt": "2025-04-25T16:16:30.857Z",
  "updatedAt": "2025-04-25T16:16:31.583Z",
  "__v": 0,
  "id": "680bb55ea1f418bdb2013c22"
}

ğŸ“‹ Deleting order 680bb55ea1f418bdb2013c22...
âœ… Order deleted successfully.

--------------------------------------------------

=== TESTING STATISTICS API ===
ğŸ“‹ Fetching statistics...
âœ… Statistics: {}

ğŸ“‹ Testing system initialization...
âŒ Error initializing system: "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<title>Error</title>\n</head>\n<body>\n<pre>Cannot GET /api/initialize</pre>\n</body>\n</html>\n"

ğŸ“‹ Testing cache clearing...
âœ… Caches cleared successfully.

--------------------------------------------------

ğŸ API operations test completed successfully!
